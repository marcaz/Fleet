/**
  ******************************************************************************
  * @file    NMEA Data.c 
  * @author  
  * @version V1.0.0
  * @date    2012.05.23
  * @brief   NMEA Data Routines
  ******************************************************************************
**/
//----------------------------------------------------------------------------
//
//----------------------------------------------------------------------------
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "nmea_api.h"
#include "nmea_data.h"
#include "uart.h"

#define __FALSE 0
#define __TRUE 1
//---------------------------------------------------------------------------
// GLOBAL NMEA INIT COUNTER
//---------------------------------------------------------------------------
unsigned char nmea_init_cnt = NMEA_INIT_COUNTS;
//---------------------------------------------------------------------------
// CHECH speed 
//---------------------------------------------------------------------------
// GLOBAL GPS jump ciunter
//---------------------------------------------------------------------------
unsigned char gps_jump_counter=0;
//----------------------------------------------------------------------------
//---------------------------------------------------------------------------
// GLOBAL GPS FIX FLAG
//---------------------------------------------------------------------------
unsigned char gps_fix = 0;
//---------------------------------------------------------------------------
// GLOBAL NMEA INIT FLAG
//---------------------------------------------------------------------------
unsigned char nmea_init_flg = 1;
//---------------------------------------------------------------------------
// NMEA STATISTICS STRUCTURE
//---------------------------------------------------------------------------
struct nmea_stat_struct nmea_stat = {
	//-----------------------------------------------------------------------
	0		//	total
	//-----------------------------------------------------------------------
};
//---------------------------------------------------------------------------
// MOMENTARY GPS DATA STRUCTURE
//---------------------------------------------------------------------------
struct gps_data_struct gps_data_moment = {
	//-----------------------------------------------------------------------
	0,		//	sRMCDataValid
	0,		//	sGGAGPSQuality
	0.0,	//	sRMCLatitude
	0.0,	//	sRMCLongitude
	0,		//	sGGAAltitude
	0,		//	sRMCGroundSpeed
	0,		//	sRMCCourse
	0,		//	sGGANumOfSatInUse
	2000,	//	sRMCYear
	1, 		//	sRMCMonth
	1,		//	sRMCDay
	0,		//	sRMCHour
	0,		//	sRMCMinute
	0,		//	sRMCSecond
	//-----------------------------------------------------------------------
};

//---------------------------------------------------------------------------
// LAST GOOD GPS DATA STRUCTURE
//---------------------------------------------------------------------------
struct gps_data_struct gps_data_good = {
	//-----------------------------------------------------------------------
	0,		//	sRMCDataValid
	0,		//	sGGAGPSQuality
	0.0,	//	sRMCLatitude
	0.0,	//	sRMCLongitude
	0,		//	sGGAAltitude
	0,		//	sRMCGroundSpeed
	0,		//	sRMCCourse
	0,		//	sGGANumOfSatInUse
	2000,	//	sRMCYear
	1, 		//	sRMCMonth
	1,		//	sRMCDay
	0,		//	sRMCHour
	0,		//	sRMCMinute
	0,		//	sRMCSecond
	//-----------------------------------------------------------------------
};
